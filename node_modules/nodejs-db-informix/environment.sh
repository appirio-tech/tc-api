####
# Copyright (C) 2013 TopCoder Inc., All Rights Reserved.
#
# Author: TCASSEMBLER
# Version: 1.0
#
# This file is for heroku app's enviroment setup.
# This enviroment variables are needed because Informix is highly depended
# on enviroment varibles to configurate. And LD_LIBRARY_PATH is for
# dynamic linking libraries.
####

# modify this to your VM (or box)'s IP Address, which running a informix database
# on it and topcoder's database scripts runned.
TC_DB_HOST=23.20.79.112
TC_DB_PORT=2021


# Dir of this script
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

LC_ALL="en_US.utf8"
CLIENT_LOCALE="en_US.utf8"
DB_LOCALE="en_US.utf8"
INFORMIXSERVER='informixoltp_tcp'
INFORMIXSQLHOSTS=${DIR}/sqlhosts
printf "informixoltp_tcp onsoctcp ${TC_DB_HOST} ${TC_DB_PORT}" > "$INFORMIXSQLHOSTS"

INFORMIXDIR="${DIR}/thirdparty/ibm/informix"
INFORMIXLIBDIR="${INFORMIXDIR}/lib"
INFORMIXLIBS=${INFORMIXLIBDIR}

for d in c++ cli client client/csm csm dmi esql ; do
    if [[ -d "${INFORMIXLIBDIR}/${d}" ]]; then
        INFORMIXLIBS=${INFORMIXLIBS}:${INFORMIXLIBDIR}/${d}
    fi
done

LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${INFORMIXLIBS}

export INFORMIXSERVER INFORMIXSQLHOSTS LD_LIBRARY_PATH DB_LOCALE CLIENT_LOCALE
export LC_ALL INFORMIXDIR
